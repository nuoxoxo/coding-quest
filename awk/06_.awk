function r(v){return v~/^-?[0-9]+$/?v:D[v]}BEGIN{i=1}{l[NR]=$0;s++}END{while(i){split(l[i],e," ");sz= length(e);if(sz==1){break}c=e[1];if(c=="OUT"){print"out/",r(e[2]);res=r(e[2])}else if(c=="JIF"&&C||c=="JMP"){i=(i+r(e[2]))%(s+1);continue}else if(c=="MOV"){D[e[2]]=r(e[3])}else if(c=="ADD"){D[e[2]]+=r(e[3])}else if(c=="CEQ"){C=D[e[2]]==r(e[3])}else if(c=="CGE"){C=D[e[2]]>=r(e[3])}else if(c=="MOD")D[e[2]]%=r(e[3]);else if(c=="DIV")D[e[2]]/=r(e[3]);i++}print"res/",res}
